<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Blogs by Alan Banks</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/blogs.css" />
		<noscript><link rel="stylesheet" href="/assets/css/noscript.css" /></noscript>

		<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.7.0/moment.min.js" type="text/javascript"></script>
		<script type="text/javascript">

		(function(){
			let profile_image_url;
			let articles;
			console.log("blogs page");
			window.addEventListener('DOMContentLoaded', (event) => {
				console.log('Dom loaded and parsed');
				// Insert loading articles icon here?
				fetch('https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@alanbanks229')
					.then((res) => res.json())
					.then((data) => {
						profile_image_url = data.feed.image
						articles = data.items.filter(item => item.categories.length > 0)

						articles.map((article, index) => {
							let section = document.getElementsByClassName("post")[0];

							let new_card_container = document.createElement("div");
							new_card_container.className = "card_container";

							let blog_card_header = document.createElement("div");
							blog_card_header.className = "blog_card_header";

							let profile_img = document.createElement("img");
							profile_img.src = profile_image_url;
							blog_card_header.appendChild(profile_img);

							let article_img = document.createElement("img");
							article_img.src = article.thumbnail
							blog_card_header.appendChild(article_img);

							let info_graphics = document.createElement("p");
							let name_bold = document.createElement("b");
							name_bold.innerHTML = "Alan Banks";
							let br = document.createElement("br");
							let post_date = document.createElement("p")
							post_date.innerHTML = updateArticlePubDate(article.pubDate);
							// post_date.innerHTML = article.pubDate;
							info_graphics.appendChild(name_bold);
							info_graphics.appendChild(br);
							info_graphics.appendChild(post_date);

							blog_card_header.appendChild(info_graphics);

							
							let blog_card_title = document.createElement("div");
							blog_card_title.className = "blog_card_title";
							
							let header = document.createElement("header");
							let article_title_h3 = document.createElement("h3");
							article_title_h3.innerHTML = article.title;
							header.appendChild(article_title_h3);
							blog_card_title.appendChild(header);

							new_card_container.appendChild(blog_card_header);
							new_card_container.appendChild(blog_card_title);
							new_card_container.addEventListener("click", (event) => {
								redirectToSpecificBlog((article))
							})
							section.appendChild(new_card_container);
							section.appendChild(document.createElement("hr"));
						})

					})
				
			})

			function updateArticlePubDate(publish_string){
				let new_string = publish_string.split((/,| /), 3)[0]

				let dt = moment(new_string, "YYYY-MM-DD")
				return dt.fromNow()+' | ' + dt.format('LL')
			}

			function redirectToSpecificBlog(article){
				let url = article.link
				window.open(url, "_blank")
			}
		})();
		</script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">My Portfolio</a>
					</header>

				<!-- Nav -->
				<nav id="nav">
					<ul class="links">
						<li><a href="index.html">About</a></li>
						<li><a href="resume.html">Resum√©</a></li>
						<li><a href="project.html">Projects</a></li>
						<li class="active"><a href="blog.html">Blogs</a></li>
						<li><a href="contact.html">Contact</a></li>
					</ul>
					<ul class="icons">
						<li><a target="_blank" href="https://github.com/alanbanks229" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						<li><a target="_blank" href="https://www.linkedin.com/in/alan-banks/" class="icon brands fa-linkedin"><span class="label">LinkedIn</span></a></li>
						<li><a target="_blank" href="https://medium.com/@alanbanks229" class="icon brands fa-medium"><span class="label">Twitter</span></a></li>
						<li><a target="_blank" href="https://www.instagram.com/alan_got_banks/" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
					</ul>
				</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									<h1><a href="https://medium.com/@alanbanks229">Check out my Blogs<br />
									on Medium</a></h1>
								</header>
								<hr />

							</section>

				<!-- Copyright -->
				<div id="copyright">
					<ul><li>&copy; 2020 All rights reserved.</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
				</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>

	</body>
</html>